version: '3.8'

services:
  makerspet-mini-web:
    build:
      context: .
      dockerfile: Dockerfile
    image: makerspet-mini-web:latest
    container_name: makerspet-mini-web
    network_mode: host
    privileged: true

    volumes:
      - ./maps:/app/maps
      - ./logs:/app/logs
      - ./config:/app/config
    
    environment:
      - ROS_DOMAIN_ID=0
      - ROS_LOCALHOST_ONLY=0
      - RCUTILS_COLORIZED_OUTPUT=1
    
    restart: unless-stopped
    
    stdin_open: true
    tty: true
